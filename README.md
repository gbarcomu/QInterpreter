# QInterpreter

This Interpreter is based on [IBM Quantum Experience Processor](https://quantumexperience.ng.bluemix.net).

Given a *.q* file with instructions generates a *.json* file similar to the response generated by Quantum Experience API.

If the file have no errors, is sent to Quantum Experience API and dumps the response with the result of the simulation into another *.json* file.

## Online Interpreter

If you want to try the interpreter online please check [Quantum Online Interpreter](http://51.254.210.58:8181/OnlineQInterpreter/)

May have some bugs.

## Install dependencies

```bash
sudo apt-get install libcurl4-openssl-dev
sudo apt-get install flex
sudo apt-get install bison
```

## Build the project

Using the command-line, go to the project root folder and execute the next commands:

```bash
mkdir build
cd build
cmake ..
make
```

The binary *QInterpreter* is generated under the *build* folder. You have to supply a *.q* file as the first parameter.
For example, after a succesfull build, execute the next command:

```bash
./QInterpreter ../examples/BellStateZZMeasurement.q
```

## Example Bell State ZZ Measurement

![BellStateZZMeasurement](resources/graphicExample.png)

### (Input) BellStateZZMeasurement.q

```c
h q[1];
cx q[1], q[2];
measure q[1];
measure q[2];
```

### (Output) BellStateZZMeasurement.json

```javascript
{
    "jsonQasm": {
        "playground": [{
            "line": 0,
            "name": "q",
            "gates": []
        }, {
            "line": 1,
            "name": "q",
            "gates": [{
                "position": 0,
                "name": "h"
            }, {
                "position": 2,
                "name": "measure"
            }]
        }, {
            "line": 2,
            "name": "q",
            "gates": [{
                "position": 1,
                "name": "cx",
                "to": 1
            }, {
                "position": 2,
                "name": "measure"
            }]
        }, {
            "line": 3,
            "name": "q",
            "gates": []
        }, {
            "line": 4,
            "name": "q",
            "gates": []
        }],
        "numberColumns": 40,
        "numberLines": 5,
        "numberGates": 4,
        "hasMeasures": true,
        "topology": "250e969c6b9e68aa2a045ffbceb3ac33"
    }
}
```

### (Output) BellStateZZMeasurementResult.json

```javascript
{
    "execution": {
        "result": {
            "date": "2016-05-03T07:57:38.376Z",
            "data": {
                "p": {
                    "qubits": [1, 2],
                    "labels": ["00", "01", "10", "11"],
                    "values": [0.46578058604498057, 0.010055914979718002, 0.036575746838289756, 0.48758775213701194]
                },
                "t": 390,
                "qasm": "qreg q,5; gate h, [[0.7071067811865476,0.7071067811865476],[0.7071067811865476,-0.7071067811865476]];
			gate measure, [[1,0],[0,0.7071067811865476+0.7071067811865476i]];gate cx, [[1,0,0,0],[0,1,0,0],[0,0,0,1],[0,0,1,0]]; h q[1];cx q[1], q[2];measure q[1];measure q[2];",
                "serialNumberDevice": "chip_simulator_docker_716435e",
                "time": 3.9117038249969482
            }
        },
        "startDate": "2016-06-20T16:39:53.183Z",
        "modificationDate": 1466440793183,
        "endDate": "2016-06-20T16:39:53.295Z",
        "status": {
            "id": "DONE"
        },
        "deviceRunType": "sim_realistic",
        "ip": {
            "ip": "158.49.245.140",
            "country": "Spain",
            "continent": "Europe"
        },
        "deleted": false,
        "userDeleted": false,
        "id": "3f789ee0ad59bed2589afe418fb56d0f",
        "codeId": "d53e7aab74ef2b3e99864cf4e9e1a017",
        "deviceId": "ff2dcd0fbc05000ba9ba9b45090176d1",
        "userId": "6d7711a003147c9d93bb40f4cb4e0ac4",
        "code": {
            "type": "Algorithm",
            "active": true,
            "versionId": 1,
            "idCode": "6c84a6657d54d9669cf4a04fd4aec356",
            "name": "autoExperiment",
            "jsonQASM": .....
            
            "qasm": "h q[1];\ncx q[1], q[2];\nmeasure q[1];\nmeasure q[2];\n",
            "creationDate": "2016-06-20T16:39:50.854Z",
            "deleted": false,
            "orderDate": 1466440792815,
            "userDeleted": false,
            "id": "d53e7aab74ef2b3e99864cf4e9e1a017",
            "userId": "6d7711a003147c9d93bb40f4cb4e0ac4"
        }
    }
}
```

## Architecture

![Architecture](resources/architecture.png)

![Quantum API Service](resources/quantumapiservice.png)

## Syntax

```c
x q[n];
y q[n];
z q[n];
id q[n];
h q[n];
s q[n];
t q[n];
tdg q[n];
sdg q[n];
cx q[n], q[m];
measure q[n];
bloch q[n];
```

Such that m, n between 0-4.

Comments with "//"

## Errors Controlled

* Syntax errors
* Positions out of bounds (bits 0-4, positions 0-39)
* No measures
* Two kinds of measures
* Adding a gate in a line after a measure

In that cases, the ".json" file is not generated.
